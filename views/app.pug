include /pug-material-design/button

if request.htmx()
    block app
else
    #model(hx-boost='true')
        nav
            +textButton('home')(
                _=`on click put '/' into the href of the window's location`
            )
            if user
                form(
                    action='/secret'
                    hx-target='main'
                    hx-push-url='true'
                ): +textButton('show secret')(_=`
                        on showSecret from #model add @disabled
                        on hideSecret from #model remove @disabled
                    `)
                | 
                form(
                    method='POST'
                    action='users/signout'
                    hx-target='main'
                ): +textButton('logout')
            else
                form(
                    action='/users/signup'
                    hx-target='main'
                    hx-push-url='true'
                ): +textButton('register')
                | 
                form(
                    action='/users/signin'
                    hx-target='main'
                    hx-push-url='true'
                ): +textButton('login')
            hr
        aside
        header
        main
            block app
                if user
                    p Welcome #{user.email.split('@')[0]}
        footer
